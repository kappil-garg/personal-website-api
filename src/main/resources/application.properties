# Base Application Configuration
# Sensitive or environment-specific values should be provided via environment variables rather than being committed to source control.

# Application Name
spring.application.name=personal-website-api

# Server Configuration
server.port=${SERVER_PORT:0}
server.servlet.context-path=${CONTEXT_PATH:/api}

# MongoDB Configuration
spring.data.mongodb.uri=${MONGODB_URI:}
spring.data.mongodb.auto-index-creation=true

# Jackson Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.write-durations-as-timestamps=false
spring.jackson.time-zone=UTC
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss.SSS'Z'

# Management Endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.health.mail.enabled=${HEALTH_MAIL_ENABLED:false}

# CORS Configuration
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:}
cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS}
cors.allow-credentials=${CORS_ALLOW_CREDENTIALS:false}
cors.max-age=${CORS_MAX_AGE:3600}

# Admin authentication credentials must be provided via ADMIN_USERNAME and ADMIN_PASSWORD environment variables
admin.username=${ADMIN_USERNAME}
admin.password=${ADMIN_PASSWORD}

# Logging Configuration
logging.level.com.kapil.personalwebsite=${LOG_LEVEL:INFO}
logging.level.org.springframework.web=${SPRING_WEB_LOG_LEVEL:WARN}
logging.level.org.springframework.data.mongodb=${MONGO_LOG_LEVEL:WARN}

# API Server Key (required for SSR/server-to-server requests)
api.server-key=${API_SERVER_KEY:}

# SSR Configuration to allow requests without Origin header (for SSR/server-to-server)
ssr.allow-no-origin=${SSR_ALLOW_NO_ORIGIN:false}

# Email Configuration
email.provider=${EMAIL_PROVIDER:}
email.http-api.api-key=${EMAIL_HTTP_API_KEY:}
email.http-api.url=${EMAIL_HTTP_API_URL:}
email.http-api.provider=${EMAIL_HTTP_API_PROVIDER:}
spring.mail.host=${MAIL_HOST:}
spring.mail.port=${MAIL_PORT:}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS:true}
spring.mail.properties.mail.smtp.starttls.required=${MAIL_SMTP_STARTTLS_REQUIRED:true}
spring.mail.properties.mail.smtp.connection-timeout=${MAIL_CONNECTION_TIMEOUT:5000}
spring.mail.properties.mail.smtp.timeout=${MAIL_TIMEOUT:5000}
spring.mail.properties.mail.smtp.write-timeout=${MAIL_WRITE_TIMEOUT:5000}

# Contact Form Email Configuration
contact.email.to=${CONTACT_EMAIL_TO:}
contact.email.from=${CONTACT_EMAIL_FROM:}
contact.email.domain=${CONTACT_EMAIL_DOMAIN:}

# Rate Limiting Configuration
rate.limit.contact.max-requests=${RATE_LIMIT_CONTACT_MAX_REQUESTS:5}
rate.limit.contact.window-minutes=${RATE_LIMIT_CONTACT_WINDOW_MINUTES:60}
rate.limit.blog.max-requests=${RATE_LIMIT_BLOG_MAX_REQUESTS:60}
rate.limit.blog.window-minutes=${RATE_LIMIT_BLOG_WINDOW_MINUTES:1}
rate.limit.trust-proxy-headers=${RATE_LIMIT_TRUST_PROXY_HEADERS:false}

# Security Configuration to prevent common attack paths. If not specified, uses default list.
security.blocked-paths=${SECURITY_BLOCKED_PATHS:}
